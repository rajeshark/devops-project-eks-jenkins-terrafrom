{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/raju new 1/quickcart/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29;import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PageContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: 100vh;\\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\\n  padding: 15px;\\n\\n  @media (max-width: 480px) {\\n    padding: 10px;\\n  }\\n\"])));const Container=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  background: white;\\n  border-radius: 20px;\\n  box-shadow: 0 10px 40px rgba(0,0,0,0.1);\\n  overflow: hidden;\\n\\n  @media (max-width: 768px) {\\n    border-radius: 15px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    border-radius: 12px;\\n  }\\n\"])));const Header=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 25px 30px 0;\\n  display: flex;\\n  align-items: center;\\n  gap: 15px;\\n\\n  @media (max-width: 768px) {\\n    padding: 20px 25px 0;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 15px 20px 0;\\n  }\\n\"])));const BackButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 12px 20px;\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  border: none;\\n  border-radius: 10px;\\n  cursor: pointer;\\n  font-size: 14px;\\n  font-weight: 600;\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  transition: all 0.3s ease;\\n  \\n  &:hover {\\n    transform: translateY(-2px);\\n    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 10px 16px;\\n    font-size: 13px;\\n  }\\n\"])));const Content=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 40px;\\n  display: flex;\\n  gap: 60px;\\n  flex-wrap: wrap;\\n\\n  @media (max-width: 1024px) {\\n    gap: 40px;\\n    padding: 30px;\\n  }\\n\\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    gap: 30px;\\n    padding: 25px 20px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    gap: 25px;\\n    padding: 20px 15px;\\n  }\\n\"])));const ImageContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  min-width: 300px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 20px;\\n  padding: 20px;\\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\\n  border-radius: 15px;\\n\\n  @media (max-width: 768px) {\\n    min-width: auto;\\n    padding: 15px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 12px;\\n    gap: 15px;\\n  }\\n\"])));const MainImage=styled.img(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  max-width: 500px;\\n  height: 400px;\\n  object-fit: contain;\\n  border-radius: 10px;\\n  transition: transform 0.3s ease;\\n\\n  &:hover {\\n    transform: scale(1.02);\\n  }\\n\\n  @media (max-width: 1024px) {\\n    height: 350px;\\n  }\\n\\n  @media (max-width: 768px) {\\n    height: 300px;\\n    max-width: 100%;\\n  }\\n\\n  @media (max-width: 480px) {\\n    height: 250px;\\n  }\\n\"])));const ColorThumbnails=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n\\n  @media (max-width: 480px) {\\n    gap: 8px;\\n  }\\n\"])));const ColorThumbnail=styled.img(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: 60px;\\n  object-fit: cover;\\n  border-radius: 8px;\\n  cursor: pointer;\\n  border: 3px solid \",\";\\n  transition: all 0.3s ease;\\n\\n  &:hover {\\n    transform: scale(1.1);\\n    border-color: #667eea;\\n  }\\n\\n  @media (max-width: 480px) {\\n    width: 50px;\\n    height: 50px;\\n  }\\n\"])),props=>props.selected?'#667eea':'transparent');const InfoContainer=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  min-width: 300px;\\n  padding: 20px 0;\\n\\n  @media (max-width: 768px) {\\n    min-width: auto;\\n    padding: 0;\\n  }\\n\"])));const Title=styled.h1(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  font-weight: 700;\\n  font-size: 2.8rem;\\n  margin-bottom: 20px;\\n  color: #2d3748;\\n  line-height: 1.2;\\n\\n  @media (max-width: 1024px) {\\n    font-size: 2.4rem;\\n  }\\n\\n  @media (max-width: 768px) {\\n    font-size: 2rem;\\n    margin-bottom: 15px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 1.8rem;\\n    margin-bottom: 12px;\\n  }\\n\"])));const Category=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: inline-block;\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n  color: white;\\n  padding: 6px 16px;\\n  border-radius: 20px;\\n  font-size: 0.9rem;\\n  font-weight: 600;\\n  margin-bottom: 25px;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.8rem;\\n    padding: 5px 12px;\\n    margin-bottom: 20px;\\n  }\\n\"])));const Desc=styled.p(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  margin: 25px 0;\\n  font-size: 1.1rem;\\n  line-height: 1.7;\\n  color: #4a5568;\\n  background: #f8f9fa;\\n  padding: 25px;\\n  border-radius: 12px;\\n  border-left: 4px solid #667eea;\\n\\n  @media (max-width: 768px) {\\n    font-size: 1rem;\\n    padding: 20px;\\n    margin: 20px 0;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.95rem;\\n    padding: 15px;\\n    margin: 15px 0;\\n    line-height: 1.6;\\n  }\\n\"])));const PriceSection=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  margin: 30px 0;\\n  padding: 25px;\\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\\n  border-radius: 12px;\\n  text-align: center;\\n\\n  @media (max-width: 768px) {\\n    margin: 25px 0;\\n    padding: 20px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    margin: 20px 0;\\n    padding: 15px;\\n  }\\n\"])));const PriceLabel=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  font-size: 1rem;\\n  color: #718096;\\n  margin-bottom: 8px;\\n  font-weight: 600;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.9rem;\\n  }\\n\"])));const Price=styled.span(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  font-weight: 700;\\n  font-size: 3rem;\\n  color: #2d3748;\\n  display: block;\\n\\n  @media (max-width: 768px) {\\n    font-size: 2.5rem;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 2rem;\\n  }\\n\"])));const OriginalPrice=styled.span(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  font-size: 1.5rem;\\n  color: #a0aec0;\\n  text-decoration: line-through;\\n  margin-left: 10px;\\n\\n  @media (max-width: 768px) {\\n    font-size: 1.3rem;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 1.1rem;\\n    margin-left: 5px;\\n  }\\n\"])));const StockInfo=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  display: inline-flex;\\n  align-items: center;\\n  gap: 8px;\\n  background: \",\";\\n  color: white;\\n  padding: 8px 16px;\\n  border-radius: 20px;\\n  font-size: 0.9rem;\\n  font-weight: 600;\\n  margin-top: 10px;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.8rem;\\n    padding: 6px 12px;\\n  }\\n\"])),props=>props.inStock?'#48bb78':'#f56565');const FilterContainer=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  margin: 35px 0;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 25px;\\n\\n  @media (max-width: 768px) {\\n    margin: 30px 0;\\n    gap: 20px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    margin: 25px 0;\\n    gap: 15px;\\n  }\\n\"])));const Filter=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 20px;\\n  padding: 20px;\\n  background: #f8f9fa;\\n  border-radius: 12px;\\n  border: 2px solid #e2e8f0;\\n  transition: all 0.3s ease;\\n\\n  &:hover {\\n    border-color: #667eea;\\n    transform: translateY(-2px);\\n  }\\n\\n  @media (max-width: 768px) {\\n    padding: 15px;\\n    gap: 15px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    flex-direction: column;\\n    align-items: flex-start;\\n    padding: 15px;\\n    gap: 12px;\\n  }\\n\"])));const FilterTitle=styled.span(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  color: #2d3748;\\n  min-width: 80px;\\n\\n  @media (max-width: 480px) {\\n    min-width: auto;\\n    font-size: 1rem;\\n  }\\n\"])));const Select=styled.select(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  padding: 12px 20px;\\n  border: 2px solid #e2e8f0;\\n  border-radius: 10px;\\n  font-size: 1rem;\\n  background: white;\\n  min-width: 200px;\\n  transition: all 0.3s ease;\\n  cursor: pointer;\\n\\n  &:focus {\\n    outline: none;\\n    border-color: #667eea;\\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\\n  }\\n\\n  @media (max-width: 768px) {\\n    min-width: 180px;\\n    padding: 10px 16px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    min-width: 100%;\\n    width: 100%;\\n    padding: 12px 16px;\\n  }\\n\"])));const Option=styled.option(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  \\n  &:disabled {\\n    color: #a0aec0;\\n    background: #f7fafc;\\n  }\\n\"])));const SizeOptions=styled.div(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n\\n  @media (max-width: 480px) {\\n    gap: 8px;\\n    width: 100%;\\n    justify-content: center;\\n  }\\n\"])));const SizeOption=styled.button(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n  padding: 12px 20px;\\n  border: 2px solid \",\";\\n  background: \",\";\\n  color: \",\";\\n  border-radius: 8px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: all 0.3s ease;\\n  position: relative;\\n  \\n  &:hover {\\n    border-color: #667eea;\\n    background: \",\";\\n  }\\n\\n  @media (max-width: 768px) {\\n    padding: 10px 16px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 10px 14px;\\n    font-size: 0.9rem;\\n    flex: 1;\\n    min-width: 60px;\\n    text-align: center;\\n  }\\n\"])),props=>props.selected?'#667eea':'#e2e8f0',props=>props.selected?'#667eea':'white',props=>props.selected?'white':'#2d3748',props=>props.selected?'#667eea':'#f7fafc');const AddContainer=styled.div(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 20px;\\n  margin-top: 40px;\\n  flex-wrap: wrap;\\n\\n  @media (max-width: 768px) {\\n    margin-top: 30px;\\n    gap: 15px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    margin-top: 25px;\\n    gap: 12px;\\n    flex-direction: column;\\n  }\\n\"])));const Button=styled.button(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n  padding: 18px 35px;\\n  border: 2px solid;\\n  border-radius: 12px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  font-size: 1.1rem;\\n  transition: all 0.3s ease;\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  flex: 1;\\n  min-width: 200px;\\n  justify-content: center;\\n\\n  \",\"\\n\\n  &:active {\\n    transform: translateY(-1px);\\n  }\\n\\n  &:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n    transform: none !important;\\n    box-shadow: none !important;\\n    background: #a0aec0;\\n    border-color: #a0aec0;\\n  }\\n\\n  @media (max-width: 768px) {\\n    padding: 16px 25px;\\n    font-size: 1rem;\\n    min-width: 180px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 14px 20px;\\n    font-size: 0.95rem;\\n    min-width: auto;\\n    width: 100%;\\n  }\\n\"])),props=>props.primary?\"\\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n    color: white;\\n    border-color: transparent;\\n    \\n    &:hover {\\n      transform: translateY(-3px);\\n      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\\n    }\\n  \":\"\\n    background: white;\\n    color: #667eea;\\n    border-color: #667eea;\\n    \\n    &:hover {\\n      background: #667eea;\\n      color: white;\\n      transform: translateY(-3px);\\n      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\\n    }\\n  \");const LoadingContainer=styled.div(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 100px 20px;\\n  color: #718096;\\n  font-size: 1.2rem;\\n\\n  @media (max-width: 480px) {\\n    padding: 80px 15px;\\n    font-size: 1.1rem;\\n  }\\n\"])));const ColorOption=styled.option(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n\"])));const InventoryInfo=styled.div(_templateObject28||(_templateObject28=_taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n  font-size: 0.9rem;\\n  color: #718096;\\n  text-align: center;\\n  \\n  &.low-stock {\\n    color: #ed8936;\\n    font-weight: 600;\\n  }\\n  \\n  &.out-of-stock {\\n    color: #f56565;\\n    font-weight: 600;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.85rem;\\n  }\\n\"])));const NoSizesMessage=styled.div(_templateObject29||(_templateObject29=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  background: #fff3e0;\\n  border: 1px solid #ffb74d;\\n  border-radius: 8px;\\n  color: #e65100;\\n  font-weight: 600;\\n  text-align: center;\\n  margin-top: 10px;\\n  width: 100%;\\n\\n  @media (max-width: 480px) {\\n    padding: 12px;\\n    font-size: 0.9rem;\\n  }\\n\"])));const ProductPage=()=>{const{id}=useParams();const navigate=useNavigate();const[product,setProduct]=useState({});const[selectedSize,setSelectedSize]=useState('');const[selectedColor,setSelectedColor]=useState('');const[currentImage,setCurrentImage]=useState('');const[availableSizes,setAvailableSizes]=useState([]);const[currentPrice,setCurrentPrice]=useState(0);const[currentStock,setCurrentStock]=useState(0);const[loading,setLoading]=useState(true);const[isAdding,setIsAdding]=useState(false);// REMOVED: const [showSuccess, setShowSuccess] = useState(false);\nuseEffect(()=>{const getProduct=async()=>{try{const res=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(id));const productData=res.data;setProduct(productData);// Set default color\nconst defaultColor=productData.color&&productData.color.length>0?productData.color[0]:'';setSelectedColor(defaultColor);// Initialize image and sizes based on default color\nupdateProductImage(productData,defaultColor);updateAvailableSizes(productData,defaultColor);setLoading(false);}catch(err){console.log('Error fetching product:',err);setLoading(false);}};getProduct();},[id]);// Update image, sizes, and pricing when color changes\nuseEffect(()=>{if(product.id){updateProductImage(product,selectedColor);updateAvailableSizes(product,selectedColor);updatePricingAndStock(product,selectedColor,selectedSize);}},[selectedColor,selectedSize,product]);// Update product image based on color selection\nconst updateProductImage=(productData,color)=>{if(productData.colorImages&&productData.colorImages[color]){setCurrentImage(productData.colorImages[color]);}else{setCurrentImage(productData.img);}};// Update available sizes based on selected color and inventory - ONLY SHOW SIZES WITH STOCK\nconst updateAvailableSizes=(productData,color)=>{if(!productData.inventory||!productData.size){setAvailableSizes(productData.size||[]);if(productData.size&&productData.size.length>0){setSelectedSize(productData.size[0]);}return;}// Filter sizes that have quantity > 0 for the selected color\nconst sizesWithStock=productData.size.filter(size=>{var _productData$inventor;const inventoryItem=(_productData$inventor=productData.inventory[color])===null||_productData$inventor===void 0?void 0:_productData$inventor[size];return inventoryItem&&inventoryItem.quantity>0;});console.log(\"\\uD83D\\uDD04 Available sizes for \".concat(color,\":\"),sizesWithStock);setAvailableSizes(sizesWithStock);// Reset selected size if current selection is not available\nif(selectedSize&&!sizesWithStock.includes(selectedSize)){setSelectedSize(sizesWithStock[0]||'');}else if(!selectedSize&&sizesWithStock.length>0){setSelectedSize(sizesWithStock[0]);}};// Update pricing and stock information\nconst updatePricingAndStock=(productData,color,size)=>{var _productData$inventor2;if(!color||!size||!productData.inventory){setCurrentPrice(productData.price||0);setCurrentStock(0);return;}const inventoryItem=(_productData$inventor2=productData.inventory[color])===null||_productData$inventor2===void 0?void 0:_productData$inventor2[size];if(inventoryItem){setCurrentPrice(inventoryItem.price||productData.price);setCurrentStock(inventoryItem.quantity||0);}else{setCurrentPrice(productData.price||0);setCurrentStock(0);}};// Handle color change\nconst handleColorChange=color=>{setSelectedColor(color);};// Handle size change\nconst handleSizeChange=size=>{setSelectedSize(size);};const addToCart=async()=>{const token=localStorage.getItem('token');if(!token){alert('Please login to add items to cart');return;}// Check if selected combination is in stock\nif(currentStock<=0){alert('Selected item is out of stock');return;}setIsAdding(true);try{const base64Payload=token.split('.')[1];const payload=JSON.parse(atob(base64Payload));const userId=payload.userId;const cartItem={productId:product.id,quantity:1,price:currentPrice,title:product.title,img:currentImage,size:selectedSize,color:selectedColor};await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/cart/\").concat(userId),cartItem,{headers:{Authorization:\"Bearer \".concat(token)}});// REMOVED: setShowSuccess(true);\n// REMOVED: setTimeout(() => setShowSuccess(false), 2000);\n// Cart added silently without notification\n}catch(error){console.error('Error adding to cart:',error);alert('Failed to add product to cart');}finally{setIsAdding(false);}};// Get stock status text\nconst getStockStatus=()=>{if(currentStock>10)return{text:'In Stock',class:''};if(currentStock>0)return{text:\"Only \".concat(currentStock,\" left!\"),class:'low-stock'};return{text:'Out of Stock',class:'out-of-stock'};};const stockStatus=getStockStatus();if(loading){return/*#__PURE__*/_jsx(PageContainer,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(LoadingContainer,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\",style:{fontSize:'3rem',marginBottom:'20px',display:'block',color:'#667eea'}}),\"Loading product details...\"]})})});}return/*#__PURE__*/_jsx(PageContainer,{children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsxs(BackButton,{onClick:()=>navigate(-1),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left\"}),\"Back to Products\"]})}),/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsxs(ImageContainer,{children:[/*#__PURE__*/_jsx(MainImage,{src:currentImage||product.img,alt:product.title,onError:e=>{e.target.src=\"https://via.placeholder.com/500x500/667eea/FFFFFF?text=\".concat(encodeURIComponent(product.title||'Product'));}}),product.colorImages&&Object.keys(product.colorImages).length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FilterTitle,{style:{marginBottom:'10px',display:'block'},children:\"Color Options:\"}),/*#__PURE__*/_jsx(ColorThumbnails,{children:Object.entries(product.colorImages).map(_ref=>{let[color,imageUrl]=_ref;return/*#__PURE__*/_jsx(ColorThumbnail,{src:imageUrl,alt:color,selected:selectedColor===color,onClick:()=>handleColorChange(color),onError:e=>{e.target.src=\"https://via.placeholder.com/60x60/667eea/FFFFFF?text=\".concat(color.charAt(0).toUpperCase());}},color);})})]})]}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(Title,{children:product.title}),product.categories&&product.categories.length>0&&/*#__PURE__*/_jsx(Category,{children:product.categories[0]}),/*#__PURE__*/_jsx(Desc,{children:product.desc}),/*#__PURE__*/_jsxs(PriceSection,{children:[/*#__PURE__*/_jsx(PriceLabel,{children:\"PRICE\"}),/*#__PURE__*/_jsxs(Price,{children:[\"$\",currentPrice,currentPrice!==product.price&&/*#__PURE__*/_jsxs(OriginalPrice,{children:[\"$\",product.price]})]}),/*#__PURE__*/_jsxs(StockInfo,{inStock:currentStock>0,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(currentStock>0?'fa-check':'fa-times')}),stockStatus.text]}),currentStock>0&&/*#__PURE__*/_jsx(InventoryInfo,{className:stockStatus.class,children:currentStock<=10&&\"\".concat(currentStock,\" items left in stock\")})]}),/*#__PURE__*/_jsxs(FilterContainer,{children:[product.color&&product.color.length>0&&/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsxs(FilterTitle,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-palette\",style:{marginRight:'8px'}}),\"Color:\"]}),/*#__PURE__*/_jsx(Select,{value:selectedColor,onChange:e=>handleColorChange(e.target.value),children:product.color.map(color=>/*#__PURE__*/_jsxs(ColorOption,{value:color,children:[color,product.colorImages&&product.colorImages[color]&&' ðŸŽ¨']},color))})]}),product.size&&product.size.length>0&&/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsxs(FilterTitle,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-ruler\",style:{marginRight:'8px'}}),\"Size:\"]}),availableSizes.length>0?/*#__PURE__*/_jsx(SizeOptions,{children:availableSizes.map(size=>/*#__PURE__*/_jsx(SizeOption,{selected:selectedSize===size,onClick:()=>handleSizeChange(size),children:size},size))}):/*#__PURE__*/_jsxs(NoSizesMessage,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle\",style:{marginRight:'8px'}}),\"No sizes available for this color\"]})]})]}),/*#__PURE__*/_jsxs(AddContainer,{children:[/*#__PURE__*/_jsx(Button,{primary:true,onClick:addToCart,disabled:isAdding||currentStock<=0||!selectedColor||!selectedSize||availableSizes.length===0,children:isAdding?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}),\"Adding to Cart...\"]}):currentStock<=0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"}),\"Out of Stock\"]}):!selectedColor||!selectedSize||availableSizes.length===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle\"}),\"Select Options\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart\"}),\"Add to Cart - $\",currentPrice]})}),/*#__PURE__*/_jsxs(Button,{disabled:currentStock<=0||!selectedColor||!selectedSize||availableSizes.length===0,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bolt\"}),\"Buy Now - $\",currentPrice]})]})]})]})]})});};export default ProductPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","styled","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PageContainer","div","_templateObject","_taggedTemplateLiteral","Container","_templateObject2","Header","_templateObject3","BackButton","button","_templateObject4","Content","_templateObject5","ImageContainer","_templateObject6","MainImage","img","_templateObject7","ColorThumbnails","_templateObject8","ColorThumbnail","_templateObject9","props","selected","InfoContainer","_templateObject0","Title","h1","_templateObject1","Category","_templateObject10","Desc","p","_templateObject11","PriceSection","_templateObject12","PriceLabel","_templateObject13","Price","span","_templateObject14","OriginalPrice","_templateObject15","StockInfo","_templateObject16","inStock","FilterContainer","_templateObject17","Filter","_templateObject18","FilterTitle","_templateObject19","Select","select","_templateObject20","Option","option","_templateObject21","SizeOptions","_templateObject22","SizeOption","_templateObject23","AddContainer","_templateObject24","Button","_templateObject25","primary","LoadingContainer","_templateObject26","ColorOption","_templateObject27","InventoryInfo","_templateObject28","NoSizesMessage","_templateObject29","ProductPage","id","navigate","product","setProduct","selectedSize","setSelectedSize","selectedColor","setSelectedColor","currentImage","setCurrentImage","availableSizes","setAvailableSizes","currentPrice","setCurrentPrice","currentStock","setCurrentStock","loading","setLoading","isAdding","setIsAdding","getProduct","res","get","concat","process","env","REACT_APP_API_URL","productData","data","defaultColor","color","length","updateProductImage","updateAvailableSizes","err","console","log","updatePricingAndStock","colorImages","inventory","size","sizesWithStock","filter","_productData$inventor","inventoryItem","quantity","includes","_productData$inventor2","price","handleColorChange","handleSizeChange","addToCart","token","localStorage","getItem","alert","base64Payload","split","payload","JSON","parse","atob","userId","cartItem","productId","title","post","headers","Authorization","error","getStockStatus","text","class","stockStatus","children","className","style","fontSize","marginBottom","display","onClick","src","alt","onError","e","target","encodeURIComponent","Object","keys","entries","map","_ref","imageUrl","charAt","toUpperCase","categories","desc","marginRight","value","onChange","disabled"],"sources":["D:/raju new 1/quickcart/frontend/src/pages/ProductPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\n\r\nconst PageContainer = styled.div`\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n  padding: 15px;\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 10px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  background: white;\r\n  border-radius: 20px;\r\n  box-shadow: 0 10px 40px rgba(0,0,0,0.1);\r\n  overflow: hidden;\r\n\r\n  @media (max-width: 768px) {\r\n    border-radius: 15px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    border-radius: 12px;\r\n  }\r\n`;\r\n\r\nconst Header = styled.div`\r\n  padding: 25px 30px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 20px 25px 0;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 15px 20px 0;\r\n  }\r\n`;\r\n\r\nconst BackButton = styled.button`\r\n  padding: 12px 20px;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 10px 16px;\r\n    font-size: 13px;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  padding: 40px;\r\n  display: flex;\r\n  gap: 60px;\r\n  flex-wrap: wrap;\r\n\r\n  @media (max-width: 1024px) {\r\n    gap: 40px;\r\n    padding: 30px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    gap: 30px;\r\n    padding: 25px 20px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    gap: 25px;\r\n    padding: 20px 15px;\r\n  }\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\n  flex: 1;\r\n  min-width: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n  border-radius: 15px;\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: auto;\r\n    padding: 15px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 12px;\r\n    gap: 15px;\r\n  }\r\n`;\r\n\r\nconst MainImage = styled.img`\r\n  width: 100%;\r\n  max-width: 500px;\r\n  height: 400px;\r\n  object-fit: contain;\r\n  border-radius: 10px;\r\n  transition: transform 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: scale(1.02);\r\n  }\r\n\r\n  @media (max-width: 1024px) {\r\n    height: 350px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    height: 300px;\r\n    max-width: 100%;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    height: 250px;\r\n  }\r\n`;\r\n\r\nconst ColorThumbnails = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n\r\n  @media (max-width: 480px) {\r\n    gap: 8px;\r\n  }\r\n`;\r\n\r\nconst ColorThumbnail = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  border: 3px solid ${props => props.selected ? '#667eea' : 'transparent'};\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    border-color: #667eea;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    width: 50px;\r\n    height: 50px;\r\n  }\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  flex: 1;\r\n  min-width: 300px;\r\n  padding: 20px 0;\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: auto;\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 700;\r\n  font-size: 2.8rem;\r\n  margin-bottom: 20px;\r\n  color: #2d3748;\r\n  line-height: 1.2;\r\n\r\n  @media (max-width: 1024px) {\r\n    font-size: 2.4rem;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 2rem;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 1.8rem;\r\n    margin-bottom: 12px;\r\n  }\r\n`;\r\n\r\nconst Category = styled.div`\r\n  display: inline-block;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  padding: 6px 16px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  margin-bottom: 25px;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.8rem;\r\n    padding: 5px 12px;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst Desc = styled.p`\r\n  margin: 25px 0;\r\n  font-size: 1.1rem;\r\n  line-height: 1.7;\r\n  color: #4a5568;\r\n  background: #f8f9fa;\r\n  padding: 25px;\r\n  border-radius: 12px;\r\n  border-left: 4px solid #667eea;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 1rem;\r\n    padding: 20px;\r\n    margin: 20px 0;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.95rem;\r\n    padding: 15px;\r\n    margin: 15px 0;\r\n    line-height: 1.6;\r\n  }\r\n`;\r\n\r\nconst PriceSection = styled.div`\r\n  margin: 30px 0;\r\n  padding: 25px;\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n  border-radius: 12px;\r\n  text-align: center;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 25px 0;\r\n    padding: 20px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    margin: 20px 0;\r\n    padding: 15px;\r\n  }\r\n`;\r\n\r\nconst PriceLabel = styled.div`\r\n  font-size: 1rem;\r\n  color: #718096;\r\n  margin-bottom: 8px;\r\n  font-weight: 600;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.9rem;\r\n  }\r\n`;\r\n\r\nconst Price = styled.span`\r\n  font-weight: 700;\r\n  font-size: 3rem;\r\n  color: #2d3748;\r\n  display: block;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 2.5rem;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 2rem;\r\n  }\r\n`;\r\n\r\nconst OriginalPrice = styled.span`\r\n  font-size: 1.5rem;\r\n  color: #a0aec0;\r\n  text-decoration: line-through;\r\n  margin-left: 10px;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 1.3rem;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 1.1rem;\r\n    margin-left: 5px;\r\n  }\r\n`;\r\n\r\nconst StockInfo = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  background: ${props => props.inStock ? '#48bb78' : '#f56565'};\r\n  color: white;\r\n  padding: 8px 16px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  font-weight: 600;\r\n  margin-top: 10px;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.8rem;\r\n    padding: 6px 12px;\r\n  }\r\n`;\r\n\r\nconst FilterContainer = styled.div`\r\n  margin: 35px 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 25px;\r\n\r\n  @media (max-width: 768px) {\r\n    margin: 30px 0;\r\n    gap: 20px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    margin: 25px 0;\r\n    gap: 15px;\r\n  }\r\n`;\r\n\r\nconst Filter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  background: #f8f9fa;\r\n  border-radius: 12px;\r\n  border: 2px solid #e2e8f0;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    border-color: #667eea;\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 15px;\r\n    gap: 15px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    padding: 15px;\r\n    gap: 12px;\r\n  }\r\n`;\r\n\r\nconst FilterTitle = styled.span`\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  min-width: 80px;\r\n\r\n  @media (max-width: 480px) {\r\n    min-width: auto;\r\n    font-size: 1rem;\r\n  }\r\n`;\r\n\r\nconst Select = styled.select`\r\n  padding: 12px 20px;\r\n  border: 2px solid #e2e8f0;\r\n  border-radius: 10px;\r\n  font-size: 1rem;\r\n  background: white;\r\n  min-width: 200px;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: 180px;\r\n    padding: 10px 16px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    min-width: 100%;\r\n    width: 100%;\r\n    padding: 12px 16px;\r\n  }\r\n`;\r\n\r\nconst Option = styled.option`\r\n  padding: 10px;\r\n  \r\n  &:disabled {\r\n    color: #a0aec0;\r\n    background: #f7fafc;\r\n  }\r\n`;\r\n\r\nconst SizeOptions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n\r\n  @media (max-width: 480px) {\r\n    gap: 8px;\r\n    width: 100%;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst SizeOption = styled.button`\r\n  padding: 12px 20px;\r\n  border: 2px solid ${props => props.selected ? '#667eea' : '#e2e8f0'};\r\n  background: ${props => props.selected ? '#667eea' : 'white'};\r\n  color: ${props => props.selected ? 'white' : '#2d3748'};\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  \r\n  &:hover {\r\n    border-color: #667eea;\r\n    background: ${props => props.selected ? '#667eea' : '#f7fafc'};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 10px 16px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 10px 14px;\r\n    font-size: 0.9rem;\r\n    flex: 1;\r\n    min-width: 60px;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst AddContainer = styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-top: 40px;\r\n  flex-wrap: wrap;\r\n\r\n  @media (max-width: 768px) {\r\n    margin-top: 30px;\r\n    gap: 15px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    margin-top: 25px;\r\n    gap: 12px;\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 18px 35px;\r\n  border: 2px solid;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  flex: 1;\r\n  min-width: 200px;\r\n  justify-content: center;\r\n\r\n  ${props => props.primary ? `\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    color: white;\r\n    border-color: transparent;\r\n    \r\n    &:hover {\r\n      transform: translateY(-3px);\r\n      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\r\n    }\r\n  ` : `\r\n    background: white;\r\n    color: #667eea;\r\n    border-color: #667eea;\r\n    \r\n    &:hover {\r\n      background: #667eea;\r\n      color: white;\r\n      transform: translateY(-3px);\r\n      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\r\n    }\r\n  `}\r\n\r\n  &:active {\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n    transform: none !important;\r\n    box-shadow: none !important;\r\n    background: #a0aec0;\r\n    border-color: #a0aec0;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 16px 25px;\r\n    font-size: 1rem;\r\n    min-width: 180px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 14px 20px;\r\n    font-size: 0.95rem;\r\n    min-width: auto;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst LoadingContainer = styled.div`\r\n  text-align: center;\r\n  padding: 100px 20px;\r\n  color: #718096;\r\n  font-size: 1.2rem;\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 80px 15px;\r\n    font-size: 1.1rem;\r\n  }\r\n`;\r\n\r\nconst ColorOption = styled.option`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\nconst InventoryInfo = styled.div`\r\n  margin-top: 10px;\r\n  font-size: 0.9rem;\r\n  color: #718096;\r\n  text-align: center;\r\n  \r\n  &.low-stock {\r\n    color: #ed8936;\r\n    font-weight: 600;\r\n  }\r\n  \r\n  &.out-of-stock {\r\n    color: #f56565;\r\n    font-weight: 600;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.85rem;\r\n  }\r\n`;\r\n\r\nconst NoSizesMessage = styled.div`\r\n  padding: 15px;\r\n  background: #fff3e0;\r\n  border: 1px solid #ffb74d;\r\n  border-radius: 8px;\r\n  color: #e65100;\r\n  font-weight: 600;\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 12px;\r\n    font-size: 0.9rem;\r\n  }\r\n`;\r\n\r\nconst ProductPage = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState({});\r\n  const [selectedSize, setSelectedSize] = useState('');\r\n  const [selectedColor, setSelectedColor] = useState('');\r\n  const [currentImage, setCurrentImage] = useState('');\r\n  const [availableSizes, setAvailableSizes] = useState([]);\r\n  const [currentPrice, setCurrentPrice] = useState(0);\r\n  const [currentStock, setCurrentStock] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isAdding, setIsAdding] = useState(false);\r\n  // REMOVED: const [showSuccess, setShowSuccess] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const getProduct = async () => {\r\n      try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/${id}`);\r\n        const productData = res.data;\r\n        setProduct(productData);\r\n        \r\n        // Set default color\r\n        const defaultColor = productData.color && productData.color.length > 0 ? productData.color[0] : '';\r\n        setSelectedColor(defaultColor);\r\n        \r\n        // Initialize image and sizes based on default color\r\n        updateProductImage(productData, defaultColor);\r\n        updateAvailableSizes(productData, defaultColor);\r\n        \r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.log('Error fetching product:', err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    getProduct();\r\n  }, [id]);\r\n\r\n  // Update image, sizes, and pricing when color changes\r\n  useEffect(() => {\r\n    if (product.id) {\r\n      updateProductImage(product, selectedColor);\r\n      updateAvailableSizes(product, selectedColor);\r\n      updatePricingAndStock(product, selectedColor, selectedSize);\r\n    }\r\n  }, [selectedColor, selectedSize, product]);\r\n\r\n  // Update product image based on color selection\r\n  const updateProductImage = (productData, color) => {\r\n    if (productData.colorImages && productData.colorImages[color]) {\r\n      setCurrentImage(productData.colorImages[color]);\r\n    } else {\r\n      setCurrentImage(productData.img);\r\n    }\r\n  };\r\n\r\n  // Update available sizes based on selected color and inventory - ONLY SHOW SIZES WITH STOCK\r\n  const updateAvailableSizes = (productData, color) => {\r\n    if (!productData.inventory || !productData.size) {\r\n      setAvailableSizes(productData.size || []);\r\n      if (productData.size && productData.size.length > 0) {\r\n        setSelectedSize(productData.size[0]);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Filter sizes that have quantity > 0 for the selected color\r\n    const sizesWithStock = productData.size.filter(size => {\r\n      const inventoryItem = productData.inventory[color]?.[size];\r\n      return inventoryItem && inventoryItem.quantity > 0;\r\n    });\r\n\r\n    console.log(`ðŸ”„ Available sizes for ${color}:`, sizesWithStock);\r\n    setAvailableSizes(sizesWithStock);\r\n    \r\n    // Reset selected size if current selection is not available\r\n    if (selectedSize && !sizesWithStock.includes(selectedSize)) {\r\n      setSelectedSize(sizesWithStock[0] || '');\r\n    } else if (!selectedSize && sizesWithStock.length > 0) {\r\n      setSelectedSize(sizesWithStock[0]);\r\n    }\r\n  };\r\n\r\n  // Update pricing and stock information\r\n  const updatePricingAndStock = (productData, color, size) => {\r\n    if (!color || !size || !productData.inventory) {\r\n      setCurrentPrice(productData.price || 0);\r\n      setCurrentStock(0);\r\n      return;\r\n    }\r\n\r\n    const inventoryItem = productData.inventory[color]?.[size];\r\n    if (inventoryItem) {\r\n      setCurrentPrice(inventoryItem.price || productData.price);\r\n      setCurrentStock(inventoryItem.quantity || 0);\r\n    } else {\r\n      setCurrentPrice(productData.price || 0);\r\n      setCurrentStock(0);\r\n    }\r\n  };\r\n\r\n  // Handle color change\r\n  const handleColorChange = (color) => {\r\n    setSelectedColor(color);\r\n  };\r\n\r\n  // Handle size change\r\n  const handleSizeChange = (size) => {\r\n    setSelectedSize(size);\r\n  };\r\n\r\n  const addToCart = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Please login to add items to cart');\r\n      return;\r\n    }\r\n\r\n    // Check if selected combination is in stock\r\n    if (currentStock <= 0) {\r\n      alert('Selected item is out of stock');\r\n      return;\r\n    }\r\n\r\n    setIsAdding(true);\r\n\r\n    try {\r\n      const base64Payload = token.split('.')[1];\r\n      const payload = JSON.parse(atob(base64Payload));\r\n      const userId = payload.userId;\r\n\r\n      const cartItem = {\r\n        productId: product.id,\r\n        quantity: 1,\r\n        price: currentPrice,\r\n        title: product.title,\r\n        img: currentImage,\r\n        size: selectedSize,\r\n        color: selectedColor\r\n      };\r\n\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/cart/${userId}`,\r\n        cartItem,\r\n        { \r\n          headers: { \r\n            Authorization: `Bearer ${token}` \r\n          } \r\n        }\r\n      );\r\n      \r\n      // REMOVED: setShowSuccess(true);\r\n      // REMOVED: setTimeout(() => setShowSuccess(false), 2000);\r\n      // Cart added silently without notification\r\n      \r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      alert('Failed to add product to cart');\r\n    } finally {\r\n      setIsAdding(false);\r\n    }\r\n  };\r\n\r\n  // Get stock status text\r\n  const getStockStatus = () => {\r\n    if (currentStock > 10) return { text: 'In Stock', class: '' };\r\n    if (currentStock > 0) return { text: `Only ${currentStock} left!`, class: 'low-stock' };\r\n    return { text: 'Out of Stock', class: 'out-of-stock' };\r\n  };\r\n\r\n  const stockStatus = getStockStatus();\r\n\r\n  if (loading) {\r\n    return (\r\n      <PageContainer>\r\n        <Container>\r\n          <LoadingContainer>\r\n            <i className=\"fas fa-spinner fa-spin\" style={{ fontSize: '3rem', marginBottom: '20px', display: 'block', color: '#667eea' }}></i>\r\n            Loading product details...\r\n          </LoadingContainer>\r\n        </Container>\r\n      </PageContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <PageContainer>\r\n      <Container>\r\n        <Header>\r\n          <BackButton onClick={() => navigate(-1)}>\r\n            <i className=\"fas fa-arrow-left\"></i>\r\n            Back to Products\r\n          </BackButton>\r\n        </Header>\r\n        \r\n        <Content>\r\n          <ImageContainer>\r\n            <MainImage \r\n              src={currentImage || product.img} \r\n              alt={product.title}\r\n              onError={(e) => {\r\n                e.target.src = `https://via.placeholder.com/500x500/667eea/FFFFFF?text=${encodeURIComponent(product.title || 'Product')}`;\r\n              }}\r\n            />\r\n            \r\n            {/* Color Thumbnails */}\r\n            {product.colorImages && Object.keys(product.colorImages).length > 0 && (\r\n              <div>\r\n                <FilterTitle style={{ marginBottom: '10px', display: 'block' }}>\r\n                  Color Options:\r\n                </FilterTitle>\r\n                <ColorThumbnails>\r\n                  {Object.entries(product.colorImages).map(([color, imageUrl]) => (\r\n                    <ColorThumbnail\r\n                      key={color}\r\n                      src={imageUrl}\r\n                      alt={color}\r\n                      selected={selectedColor === color}\r\n                      onClick={() => handleColorChange(color)}\r\n                      onError={(e) => {\r\n                        e.target.src = `https://via.placeholder.com/60x60/667eea/FFFFFF?text=${color.charAt(0).toUpperCase()}`;\r\n                      }}\r\n                    />\r\n                  ))}\r\n                </ColorThumbnails>\r\n              </div>\r\n            )}\r\n          </ImageContainer>\r\n          \r\n          <InfoContainer>\r\n            <Title>{product.title}</Title>\r\n            \r\n            {product.categories && product.categories.length > 0 && (\r\n              <Category>\r\n                {product.categories[0]}\r\n              </Category>\r\n            )}\r\n            \r\n            <Desc>{product.desc}</Desc>\r\n            \r\n            <PriceSection>\r\n              <PriceLabel>PRICE</PriceLabel>\r\n              <Price>\r\n                ${currentPrice}\r\n                {currentPrice !== product.price && (\r\n                  <OriginalPrice>${product.price}</OriginalPrice>\r\n                )}\r\n              </Price>\r\n              \r\n              <StockInfo inStock={currentStock > 0}>\r\n                <i className={`fas ${currentStock > 0 ? 'fa-check' : 'fa-times'}`}></i>\r\n                {stockStatus.text}\r\n              </StockInfo>\r\n              \r\n              {currentStock > 0 && (\r\n                <InventoryInfo className={stockStatus.class}>\r\n                  {currentStock <= 10 && `${currentStock} items left in stock`}\r\n                </InventoryInfo>\r\n              )}\r\n            </PriceSection>\r\n            \r\n            <FilterContainer>\r\n              {/* Color Selector */}\r\n              {product.color && product.color.length > 0 && (\r\n                <Filter>\r\n                  <FilterTitle>\r\n                    <i className=\"fas fa-palette\" style={{ marginRight: '8px' }}></i>\r\n                    Color:\r\n                  </FilterTitle>\r\n                  <Select \r\n                    value={selectedColor} \r\n                    onChange={(e) => handleColorChange(e.target.value)}\r\n                  >\r\n                    {product.color.map((color) => (\r\n                      <ColorOption key={color} value={color}>\r\n                        {color}\r\n                        {product.colorImages && product.colorImages[color] && ' ðŸŽ¨'}\r\n                      </ColorOption>\r\n                    ))}\r\n                  </Select>\r\n                </Filter>\r\n              )}\r\n              \r\n              {/* Size Selector - ONLY SHOW AVAILABLE SIZES */}\r\n              {product.size && product.size.length > 0 && (\r\n                <Filter>\r\n                  <FilterTitle>\r\n                    <i className=\"fas fa-ruler\" style={{ marginRight: '8px' }}></i>\r\n                    Size:\r\n                  </FilterTitle>\r\n                  {availableSizes.length > 0 ? (\r\n                    <SizeOptions>\r\n                      {availableSizes.map((size) => (\r\n                        <SizeOption\r\n                          key={size}\r\n                          selected={selectedSize === size}\r\n                          onClick={() => handleSizeChange(size)}\r\n                        >\r\n                          {size}\r\n                        </SizeOption>\r\n                      ))}\r\n                    </SizeOptions>\r\n                  ) : (\r\n                    <NoSizesMessage>\r\n                      <i className=\"fas fa-exclamation-triangle\" style={{ marginRight: '8px' }}></i>\r\n                      No sizes available for this color\r\n                    </NoSizesMessage>\r\n                  )}\r\n                </Filter>\r\n              )}\r\n            </FilterContainer>\r\n            \r\n            <AddContainer>\r\n              <Button \r\n                primary \r\n                onClick={addToCart} \r\n                disabled={isAdding || currentStock <= 0 || !selectedColor || !selectedSize || availableSizes.length === 0}\r\n              >\r\n                {isAdding ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i>\r\n                    Adding to Cart...\r\n                  </>\r\n                ) : currentStock <= 0 ? (\r\n                  <>\r\n                    <i className=\"fas fa-times\"></i>\r\n                    Out of Stock\r\n                  </>\r\n                ) : !selectedColor || !selectedSize || availableSizes.length === 0 ? (\r\n                  <>\r\n                    <i className=\"fas fa-exclamation-triangle\"></i>\r\n                    Select Options\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <i className=\"fas fa-shopping-cart\"></i>\r\n                    Add to Cart - ${currentPrice}\r\n                  </>\r\n                )}\r\n              </Button>\r\n              \r\n              <Button disabled={currentStock <= 0 || !selectedColor || !selectedSize || availableSizes.length === 0}>\r\n                <i className=\"fas fa-bolt\"></i>\r\n                Buy Now - ${currentPrice}\r\n              </Button>\r\n            </AddContainer>\r\n          </InfoContainer>\r\n        </Content>\r\n      </Container>\r\n\r\n      {/* REMOVED: Success popup */}\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default ProductPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}